<head>
    <title>Meeting Information</title>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <!--<link href="css/bootstrap.min.css" rel="stylesheet">-->
    <link href="css/svg.css" rel="stylesheet">
    <link href="css/my.css" rel="stylesheet">
    <!--<script src="js/jquery-1.11.2.min.js"></script>-->
    <!--<script src="js/bootstrap.min.js"></script>-->
    <script type="text/javascript" src="js/angular.min.js"></script>
    <script type="text/javascript" src="js/angular-ui-router.min.js"></script>
    <script type="text/javascript" src="js/d3.min.js"></script>
    <script type="text/javascript" src="js/bootstrap-filestyle.min.js"></script>
    <!--<script type="text/javascript" src="js/ui-bootstrap-tpls-0.12.0.js"></script>-->

    <link href="lib/datepicker/jquery.datepick.css" rel="stylesheet">
    <script src="lib/datepicker/jquery.plugin.js"></script>
    <script src="lib/datepicker/jquery.datepick.js"></script>

    <!-- <script type="text/javascript" src="/javascripts/angularApp.js"></script> -->
    <!-- <script type="text/javascript" src="/javascripts/lifedirectives.js"></script> -->

    <style type="text/css">
        .embed + img { position: relative; left: 0px; top: 0px; }
        img.trigger {
            margin: 0.25em;  vertical-align: top;
        }
        .glyphicon-thumbs-up { cursor:pointer }

        .vcenter {
          display: inline-block;
          vertical-align: middle;
          float: none;
        }
    </style>
</head>
<body>
    {{> meeting_add_form}}
    <div class="row">
        <div class="col-xs-8  col-xs-offset-2 col-md-8 col-md-offset-2">
        <!--<div class="col-md-5">-->
        <!--<ui-view></ui-view>-->
            <!--Whenever ui-router detects a route change, it will place the new state's template inside the tag and initialize the controller we specified in our state configuration. -->
            {{> meetinfo}}
            {{> meetingUpdate}}
        </div>
    </div>
</body>


<template name="meetinfo">
  <div class="page-header">
    <div class="row">
    <!--<div class="col-xs-10  col-xs-offset-1 col-md-10 col-md-offset-1">-->
      <div class="col-xs-5 col-md-5 col-lg-5 vcenter">
        <h2> ~ Meeting Info ~ </h2>
      </div>
    </div>
<!--
    <div class="row">
      <div class="col-xs-12 col-md-12 vcenter">
        {{> upload_bootstrap
            fileTypes=".xlsx"
            multiple=false
            overwrite=true
            callbacks=uploadCallback }}
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-md-12 vcenter">
        <input type="file" class="js-schedule-upload filestyle"
               data-buttonText=" Upload Outlook Schedule..."
               data-buttonName="btn-primary" data-buttonBefore="true"/>
      </div>
    </div>
-->
  </div>

  <div class="row">
    <div class="col-xs-12 col-md-12 col-lg-12">
      <div class="input-group">
        <input type="text" class="js-search-text form-control"
               value={{searchKeyWord}} placeholder="Search for...">
        <span class="input-group-btn">
          <button class="js-search btn btn-primary" type="button">Search</button>
        </span>
      </div><!-- /input-group -->
    </div><!-- /.col-lg-6 -->
  </div>

  <table id="meetingTable" class="table table-bordred table-striped table-hover">
    <tbody>
      <tr>
          <!--<th> 项目编号 </th>-->
          <th> 会议类别 </th>
          <th> 团队 </th>
          <!--<th> System </th>-->
          <!--<th> Organizer </th>-->
          <th> 会议名称 </th>
          <th> 会议时间 </th>
          <th> Pass? </th>
          <th>   </th>
          <th>  </th>
      </tr>
      {{#each meetings}}
        <tr id="{{_id}}">
            <!--<td> {{projectID}} </td>-->
            <td width="15%"> {{meeting_type}} </td>
            <td width="15%"> {{meeting_group}} </td>
            <!--<td> {{system}} </td>-->
            <!--<td> {{organizer}} </td>-->
            <td width="40%"> {{meeting_title}} </td>
            <td width="15%"> {{meeting_date}} </td>
            <td width="5%">
              <span style="color:{{passColor meeting_pass}};font-weight:bold">{{passLabel meeting_pass}}</span>
            </td>
            <td width="5%">
              <button class="js-select-meeting btn btn-primary btn-outline">
                Select
              </button>
            </td>
            <td width="5%">
              <button class="js-delete-meeting btn btn-danger btn-outline">
                Delete
              </button>
            </td>
        </tr>
      {{/each}}
    </tbody>
  </table>
  <div class="row">
    <div class="col-xs-6 col-md-6 col-lg-6 previous">
      <button type="submit" class="js-show-meeting-form btn btn-warning">
          <span class="glyphicon glyphicon-plus"></span>
          Add Meeting
      </button>
    </div>
    <div class="col-xs-6 col-md-6 col-lg-6 next">
      <button id="download" class="js-export-csv btn btn-danger" type="button">Export</button>
      <!--<a href="#" class="js-export-csv btn btn-danger" role="button" id="download">Export</a>-->
    </div>
  </div>
</template>

<template name="meeting_add_form">
  <div class="modal fade" id="meeting_add_form">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <div class="modal-title"> Add a Meeting </div>
        </div>
        <div class="modal-body">
          {{#autoForm id="addMeetingInfo"
                      type="insert"
                      collection=Collections.Meetings
                      validation=submit}}
            {{#each afFieldNames}}
              {{> afQuickField
                  name=this.name
                  options=afOptionsFromSchema
                  template="bootstrap3-horizontal"
                  label-class="col-sm-2 col-md-2 vcenter"
                  input-col-class="col-sm-8 col-md-8 vcenter"}}
            {{/each}}
            <div class="form-group">
              <button type="submit" class="js-add-meeting btn btn-success">
                  <span class="glyphicon glyphicon-plus"></span>
                  Add Meeting
              </button>
              <button class="btn btn-warning" data-dismiss="modal">
                  Cancel
              </button>
            </div>
          {{/autoForm}}
        </div>
        <div class="modal-footer">
        </div>
      </div>
    </div>
  </div>
</template>

<template name="meetingUpdate">
  <div class="page-header">
    <div class="row">
    <!--<div class="col-xs-10  col-xs-offset-1 col-md-10 col-md-offset-1">-->
      <div class="col-xs-5 col-md-5 col-lg-5">
        <h2> ~ Details ~ </h2>
      </div>
    </div>
  </div>

  {{#autoForm id="meetingInfo"
              type=formType
              collection=Collections.Meetings
              doc=selectedMeetingDoc
              validation=submit}}
    {{#each afFieldNames}}
      {{> afQuickField
          name=this.name
          options=afOptionsFromSchema
          template="bootstrap3-horizontal"
          label-class="col-sm-2 col-md-2 vcenter"
          input-col-class="col-sm-8 col-md-8 vcenter"}}
    {{/each}}
    <div class="form-group">
      <button type="submit" class="btn btn-primary" disabled="{{disableButtons}}">
          <span class="glyphicon glyphicon-thumbs-up"></span>
          Save changes
      </button>
      <!--
      <button class="btn btn-default .js-update-reset" disabled="{{disableButtons}}">
        Reset
      </button> -->
    </div>
  {{/autoForm}}
</template>
