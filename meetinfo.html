<head>
    <title>Meeting Information</title>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <!--<link href="css/bootstrap.min.css" rel="stylesheet">-->
    <link href="css/svg.css" rel="stylesheet">
    <link href="css/my.css" rel="stylesheet">
    <link href="css/upload/jquery.fileupload.css" rel="stylesheet">

    <!--<script src="js/jquery-1.11.2.min.js"></script>-->
    <!--<script src="js/bootstrap.min.js"></script>-->
    <script type="text/javascript" src="js/angular.min.js"></script>
    <script type="text/javascript" src="js/angular-ui-router.min.js"></script>
    <script type="text/javascript" src="js/d3.min.js"></script>
    <script type="text/javascript" src="js/bootstrap-filestyle.min.js"></script>
    <!--<script type="text/javascript" src="js/ui-bootstrap-tpls-0.12.0.js"></script>-->

    <link href="lib/datepicker/jquery.datepick.css" rel="stylesheet">
    <script src="lib/datepicker/jquery.plugin.js"></script>
    <script src="lib/datepicker/jquery.datepick.js"></script>

    <!--[if lt IE 10]>
    <script src="js/upload/cors/jquery.xdr-transport.js"></script>
    <![endif]-->
    <script src="js/upload/vendor/jquery.ui.widget.js"></script>
    <script src="js/upload/jquery.iframe-transport.js"></script>
    <script src="js/upload/jquery.fileupload.js"></script>

    <!-- <script type="text/javascript" src="/javascripts/angularApp.js"></script> -->
    <!-- <script type="text/javascript" src="/javascripts/lifedirectives.js"></script> -->

    <style type="text/css">
        .embed + img { position: relative; left: 0px; top: 0px; }
        img.trigger {
            margin: 0.25em;  vertical-align: top;
        }
        .glyphicon-thumbs-up { cursor:pointer }

        .vcenter {
          display: inline-block;
          vertical-align: middle;
          float: none;
        }
    </style>
</head>
<body>
    {{> meeting_add_form}}
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        {{> meetingOperation}}
      </div>
    </nav>
    <div class="container">
      {{> meetinfo}}
      {{> meetingUpdate}}
    </div>
</body>

<template name="meetingOperation">
  <div class="row">
    <!--
    <div class="col-xs-6 col-md-6 col-lg-6">
      <div class="input-group">
        <input id="search_text_box"
               type="text"
               class="js-search-text form-control"
               placeholder="Search for...">
        <span class="input-group-btn">
          <button id="search_button"
                  class="js-search btn btn-primary"
                  type="button">Search</button>
        </span>
      </div>
    </div>
    -->

    <div class="col-xs-12 col-md-12 col-lg-12 next">
      <button type="submit" class="js-show-meeting-form btn btn-warning">
          <span class="glyphicon glyphicon-plus"></span>
          Add Meeting
      </button>
      <button id="download" class="js-export-csv btn btn-danger" type="button">
        Export
      </button>
    </div>
  </div>
</template>

<template name="meetinfo">
  <div class="page-header">
    <div class="row">
    <!--<div class="col-xs-10  col-xs-offset-1 col-md-10 col-md-offset-1">-->
      <div class="col-xs-5 col-md-5 col-lg-5 vcenter">
        <h2> ~ Meeting Info ~ </h2>
      </div>
    </div>

<!--
    <form action="upload/"
          method="POST"
          enctype="multipart/form-data">

      <div class="uploadPanel">
        <span class="btn btn-success fileinput-button form-control upload-control">
            <i class="glyphicon glyphicon-plus"></i>
            <span>Upload File...</span>
            <input id="fileupload" type="file" name="files[]"
                   class="js-schedule-upload">
        </span>

        <div class="form-control">
            <div class="progressInner">
              <div id="progress" class="progress progressInner upload-control">
                <div class="progress-bar progress-bar-success progress-bar-striped"></div>
              </div>
            </div>
        </div>
      </div>
    </form>
-->

    <!--
    <span class="btn btn-success fileinput-button">
        <i class="glyphicon glyphicon-plus"></i>
        <span>Upload File...</span>
        <input id="fileupload" class="js-schedule-upload"
               type="file" name="files[]"
               data-url="upload/" multiple>
    </span>
    -->

    <div id="upload_errors">

    </div>

<!--    <div class="row">
      <div class="col-xs-12 col-md-12 vcenter">
        {{> upload_bootstrap
            fileTypes=".xlsx"
            multiple=false
            overwrite=true
            callbacks=uploadCallback }}
      </div>
    </div>
-->
<!--    <div class="row">
      <div class="col-xs-12 col-md-12 vcenter">
        <input type="file" class="js-schedule-upload filestyle"
               data-buttonText=" Upload Outlook Schedule..."
               data-buttonName="btn-primary" data-buttonBefore="true"/>
      </div>
    </div>
-->

  </div>

  {{> tabular
      table=TabularTables.MeetingTable
      id="meeting_table"
      style="width:100%"
      class="table table-striped table-hover"}}

<!--
  <table id="meetingTable" class="table table-bordred table-striped table-hover">
    <tbody>
      <tr>
          <th> 会议类别 </th>
          <th> 团队 </th>
          <th> 会议名称 </th>
          <th> 会议时间 </th>
          <th> Pass? </th>
          <th>   </th>
          <th>  </th>
      </tr>
      {{#each meetings}}
        <tr id="{{_id}}">
            <td width="15%"> {{meeting_type}} </td>
            <td width="15%"> {{meeting_group}} </td>
            <td width="40%"> {{meeting_title}} </td>
            <td width="15%"> {{meeting_date}} </td>
            <td width="5%">
              <span style="color:{{passColor meeting_pass}};font-weight:bold">{{passLabel meeting_pass}}</span>
            </td>
            <td width="5%">
              <button class="js-select-meeting btn btn-primary btn-outline">
                Select
              </button>
            </td>
            <td width="5%">
              <button class="js-delete-meeting btn btn-danger btn-outline">
                Delete
              </button>
            </td>
        </tr>
      {{/each}}
    </tbody>
  </table>
-->

</template>


<template name="passDescription">
  <span style="color:{{passColor}};font-weight:bold">
    {{passLabel}}
  </span>
</template>
<template name="selectMeeting">
  <button class="js-select-meeting btn btn-primary btn-outline">
    Select
  </button>
</template>
<template name="deleteMeeting">
  <button class="js-delete-meeting btn btn-danger btn-outline">
    Delete
  </button>
</template>

<template name="meeting_add_form">
  <div class="modal fade" id="meeting_add_form">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <div class="modal-title"> <h2> Add a Meeting  </h2> </div>
        </div>
        <div class="modal-body">
          {{#autoForm id="addMeetingInfo"
                      type="insert"
                      collection=Collections.Meetings
                      validation=submit}}
            {{> afQuickFields
                template="bootstrap3-horizontal"
                label-class="col-sm-2 col-md-2 vcenter"
                input-col-class="col-sm-8 col-md-8 vcenter"
                fields=selectedFields
            }}
            <div class="form-group">
              <button type="submit" class="js-add-meeting btn btn-success">
                  <span class="glyphicon glyphicon-plus"></span>
                  Add Meeting
              </button>
              <button class="btn btn-warning" data-dismiss="modal">
                  Cancel
              </button>
            </div>
          {{/autoForm}}
        </div>
        <div class="modal-footer">
        </div>
      </div>
    </div>
  </div>
</template>

<template name="meetingUpdate">
  <div class="modal fade" id="meetingUpdate">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <div class="modal-title"> <h2> Update Meeting Info  </h2> </div>
        </div>
        <div class="modal-body">
          {{#autoForm id="meetingInfo"
                      type=formType
                      collection=Collections.Meetings
                      doc=selectedMeetingDoc
                      validation=submit}}
            {{> afQuickFields
                template="bootstrap3-horizontal"
                label-class="col-sm-2 col-md-2 vcenter"
                input-col-class="col-sm-8 col-md-8 vcenter"
                fields=selectedFields
            }}
            <div class="form-group">
              <button type="submit" class="js-update-confirm btn btn-primary" disabled="{{disableButtons}}">
                  <span class="glyphicon glyphicon-thumbs-up"></span>
                  Save changes
              </button>
              <button class="btn btn-warning" data-dismiss="modal">
                  Cancel
              </button>
            </div>
          {{/autoForm}}
        </div>
      </div>
    </div>
  </div>
</template>
